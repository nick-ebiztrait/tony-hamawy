<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
  integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
>
<style>
  .author-img{
    width:100px;
    height:100px;

  }
  .author-img img{
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:100%;
  }
  .star-rating .fa-star{
    color:#d5a061;
    margin-right:2px;
  }
  .author-img-wrapper{
     display: flex;
    justify-content: center;
    margin-bottom:15px;
  }
</style>
<div class="page-width quotes_section" data-section-id="{{ section.id }}" data-section-type="quotes">
  {% if section.settings.title != blank %}
    <div class="section-header text-center">
      <h2>{{ section.settings.title | escape }}</h2>
    </div>
  {% endif %}

  {% if section.blocks.size > 0 %}
    <div class="quotes-wrapper">
      <div class="quotes-slider quotes-slider-2" id="Quotes-{{ section.id }}" data-count="{{ section.blocks.size }}">
        {% for block in section.blocks %}
          <div class="quotes-slide--{{ block.id }}" {{ block.shopify_attributes }}>
            <blockquote class="quotes-slider__text text-center">
              {% comment %}
                <span class="quote-icon">{% include 'icon-quote' %}</span>
              {% endcomment %}
              {% if block.settings['author-img'] != blank %}
                <div class="author-img-wrapper">
                  <div class="author-img">
                    {% assign height = block.settings.author-img.width | divided_by: block.settings.author-img.aspect_ratio | round %}
                    <img src="{{ block.settings.author-img | img_url:'original' }}" loading="lazy" alt="author image" width="{{ block.settings.author-img.width }}" height="{{ height }}">
                  </div>
                </div>
              {% endif %}

              <div class="star-rating">
                <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i
                ><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
              </div>

              {% if block.settings.quote != blank %}
                <div class="rte-setting">{{ block.settings.quote }}</div>
              {% endif %}

              {% if block.settings.author != blank %}
                <cite>{{ block.settings.author | escape }}</cite>
              {% endif %}
            </blockquote>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}

  {% if section.blocks.size == 0 %}
    {% include 'no-blocks' %}
  {% endif %}
</div>
<script>
  $('.quotes-slider-2').slick({
    slidesToShow: 3,
    slidesToScroll: 1,
      arrows: false,
    dots:true,
    autoplay: true,
    autoplaySpeed: 2000,
    speed:1000,
     responsive: [
    {
      breakpoint: 769,
      settings: {

        slidesToShow: 2
      }
    },
    {
      breakpoint: 577,
      settings: {

        slidesToShow: 1
      }
    }
  ]
  });
</script>
{% schema %}
{
  "name": "Testimonials",
  "class": "index-section",
  "max_blocks": 9,
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Testimonials"
    }
  ],
  "blocks": [
    {
      "type": "quote",
      "name": "Testimonial",
      "settings": [
        {
          "type": "richtext",
          "id": "quote",
          "label": "Text",
          "default": "<p>Add customer reviews and testimonials to showcase your storeâ€™s happy customers.</p>"
        },
        {
          "type": "text",
          "id": "author",
          "label": "Author",
          "default": "Author's name"
        },
         {
          "type": "image_picker",
          "id": "author-img",
          "label": "Author image"

        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Testimonials",
      "category": "Text",
      "blocks": [
        {
          "type": "quote"
        },
        {
          "type": "quote"
        },
        {
          "type": "quote"
        }
      ]
    }
  ]
}
{% endschema %}
